<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Registration number: 240188795" />

<meta name="date" content="2024-12-10" />

<title>Visualising Homicide Convictions by Sex: Male vs. Female Suspects (2012-2023)</title>

<script src="index_files/header-attrs-2.28/header-attrs.js"></script>
<script src="index_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="index_files/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="index_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="index_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="index_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="index_files/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="index_files/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="index_files/tocify-1.9.1/jquery.tocify.js"></script>
<script src="index_files/navigation-1.1/tabsets.js"></script>
<link href="index_files/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="index_files/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="custom.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div id="header">



<h1 class="title toc-ignore">Visualising Homicide Convictions by Sex:
Male vs. Female Suspects (2012-2023)</h1>
<h4 class="author">Registration number: 240188795</h4>
<h4 class="date">2024-12-10</h4>

</div>


<div id="data-origins" class="section level1">
<h1>Data Origins</h1>
<p>This data was found on the Office for National Statistics website in
an article titled ‘Homicide in England and Wales: year ending March
2023’. The dataset is an Excel Workbook containing multiple sheets
showing different homicide statistics.</p>
<p>This project is focused on visualising the number of suspects
convicted of homicide between April 2012 and March 2023, categorised by
sex. This visualisation allows us to compare male and female homicide
convictions and see which sex are more likely to be convicted of
homicide. It also details the trend in homicide frequency over the last
10 years.</p>
</div>
<div id="research-question" class="section level1">
<h1>Research Question</h1>
<div
id="are-males-or-females-historically-more-likely-to-be-convicted-of-homicide"
class="section level3">
<h3>Are males or females historically more likely to be convicted of
homicide?</h3>
<p>This visualisation aims to show a clear distinction in the frequency
of males compared to females who have been convicted of homicide. It
also demonstrates the potential trend in homicide frequency in the last
10 years.</p>
</div>
</div>
<div id="importing-the-data" class="section level1">
<h1>Importing the Data</h1>
<p>To upload the dataset into R, I used the ‘here’ function as this
allows the code to work on any computer which has downloaded the ‘Data’
folder for this project. As the data is an Excel Workbook with a lot of
sheets, I only wanted to upload and analyse a particular sheet. The one
I chose was ‘Worksheet_31’ as this includes suspects for all offences
initially ruled a homicide between April 2012 and March 2023.</p>
<pre class="r"><code># Need to install and load the necessary packages for this whole project

install.packages(&quot;here&quot;)
install.packages(&quot;tidyverse&quot;)
install.packages(&quot;dplyr&quot;)
install.packages(&quot;readxl&quot;)
install.packages(&quot;gganimate&quot;)
install.packages(&quot;gifski&quot;) 
install.packages(&quot;png&quot;)
install.packages(&quot;knitr&quot;)
library(here)
library(tidyverse)
library(readxl)
library(dplyr)
library(gganimate)
library(gifski)
library(png)
library(knitr)

# Now we need to tell R the file path to choose
file_path &lt;- here(&quot;Data&quot;, &quot;homicideyemarch23appendixtablesfinal1.xlsx&quot;)

# As the raw dataset is so large, we&#39;re specifying which sheet to use
# We&#39;re also going to skip the first 6 rows of the sheet as this is just information about the table
data &lt;- read_excel(file_path, sheet = &quot;Worksheet 31&quot;, skip = 7)

# View the first few rows of the imported data
head(data)</code></pre>
</div>
<div id="cleaning-the-data" class="section level1">
<h1>Cleaning the Data</h1>
<p>In the raw data, this worksheet shows the number of suspects
convicted on different counts of homicide, but also the percentages of
suspects convicted of homicide by age and sex. We do not want to include
the percentage data as this is not representative unless we know the raw
numbers the percentages are generated from (which we do not) so we want
to remove this. We also want to remove any other unnecessary information
in the dataset. For example, there are a few rows with missing values so
have been filled with N/A which we need to remove. These missing values
are simply from it containing only text about the tables in the raw
dataset.</p>
<pre class="r"><code># Need to remove all of the N/A data in the dataset
filtered_data &lt;- data %&gt;% drop_na() 

# To check this has removed all N/A values we use the following function
if (sum(is.na(filtered_data)) == 0) {
  print(&quot;No missing values&quot;)
} else {
  print(paste(&quot;Count of total missing values:&quot;, sum(is.na(filtered_data))))
}

# Now we want to remove the percentages data
# The percentage data begins on row 28 in the dataset so we only want to include rows 1 to 27
filtered_data &lt;- filtered_data[1:27, ]

# View the first few rows of the filtered dataset
head(filtered_data)

# View column names
names(filtered_data)

# Rename a couple of the column names to remove the &#39;note...&#39; as this is only relevant when viewing the data in Excel
filtered_data &lt;- filtered_data %&gt;% rename(&quot;Age of Suspect&quot; = &quot;Age of suspect [note 65]&quot;, &quot;Apr 2020 to Mar 2021&quot; = &quot;Apr 2020 to Mar 2021 [note 66]&quot;) 

# View column names again to see if the changes have been made
names(filtered_data)</code></pre>
<p>We remove the N/A values before specifying which rows to keep as the
first row of the ‘data’ dataset only has N/A values, so if we removed
the percentages data before we would delete the total values row of the
data we’re interested in. So to aid visualisation we clean the data by
removing N/A values first, and then specify the rows of data we want to
analyse and visualise.</p>
</div>
<div id="data-preparation" class="section level1">
<h1>Data Preparation</h1>
<p>As the dataset currently has a lot of columns, to be able to
visualise it we need to transform it from a wide format to a long
format. This is done using the ‘pivot_longer’ function.</p>
<pre class="r"><code>data_long &lt;- pivot_longer(data = filtered_data, 
                          names_to = &quot;Year&quot;,
                          values_to = &quot;Frequency&quot;,
                          cols = c(&quot;Apr 2012 to Mar 2013&quot;, &quot;Apr 2013 to Mar 2014&quot;, &quot;Apr 2014 to Mar 2015&quot;, &quot;Apr 2015 to Mar 2016&quot;, &quot;Apr 2016 to Mar 2017&quot;, &quot;Apr 2017 to Mar 2018&quot;, &quot;Apr 2018 to Mar 2019&quot;, &quot;Apr 2019 to Mar 2020&quot;, &quot;Apr 2020 to Mar 2021&quot;, &quot;Apr 2021 to Mar 2022&quot;, &quot;Apr 2022 to Mar 2023&quot;))

# Check first few rows of the longer dataframe
head(data_long)</code></pre>
<p>The final part of the data preparation is to create a final dataframe
we can use in the visualisation which contains only the columns and rows
we are going to use.</p>
<pre class="r"><code># Create a new dataframe to use in the visualisation
# Remove the rows which display both male and female so we can compare just male and female
# And include all ages 

final_data &lt;- data_long %&gt;% filter(`Sex of Suspect` %in% c(&quot;Male&quot;, &quot;Female&quot;) &amp;
                                  `Age of Suspect` == &quot;Total [note 66]&quot;)

# The year data runs April to March (the UK tax year)
# To make visualisation on a graph easier we need to remove the month and just keep the year 
# Extract the start and end years using a string function
# Create a `Simple Years` column to plot the year range on a bar chart
# Then create a Mid_Year column to be able to plot the tax year (e.g. 2012-2013) on an animated plot (needed for later) as this has to be numeric for the animation to work (`Simple Years` is a character column)

final_data &lt;- final_data %&gt;%
  mutate(Start_Year = as.numeric(str_extract(Year, &quot;(?&lt;=Apr )[0-9]{4}&quot;)),  
    End_Year = as.numeric(str_extract(Year, &quot;(?&lt;=Mar )[0-9]{4}&quot;)),  
    Mid_Year = (Start_Year + End_Year) / 2,
    `Simple Years` = paste(Start_Year, End_Year, sep = &quot;-&quot;))

# Check the Frequency column is numeric (required for visualisation)
final_data$Frequency &lt;- as.numeric(final_data$Frequency)

# Check the Mid_Year column is numeric (required for the animated visualisation)
final_data$Mid_Year &lt;- as.numeric(final_data$Mid_Year)

# Change the `Sex of Suspect` column from character to factor vector so we can categorise by male and female (required for the visualisation)
final_data$&#39;Sex of Suspect&#39; &lt;- factor(final_data$&#39;Sex of Suspect&#39;, levels = c(&quot;Female&quot;, &quot;Male&quot;))
levels(final_data$&#39;Sex of Suspect&#39;)

# Check the first few rows of the final dataset
head(final_data)</code></pre>
</div>
<div id="visualising-the-data" class="section level1">
<h1>Visualising the Data</h1>
<p>Initially, I visualised the data as a stacked bar chart with the
female frequency bar on top of the male frequency bar. This bar chart
made it difficult to determine the numbers of female suspects since they
are so small compared to the male suspects.</p>
<pre class="r"><code># Stacked bar chart:

p &lt;- ggplot(final_data, aes(x=`Simple Years`, y=Frequency, fill = `Sex of Suspect`)) +
  geom_bar(stat = &quot;identity&quot;, colour=&#39;black&#39;, width = 0.75) +
  scale_y_continuous(expand = c(0,0), limits = c(0, 600)) +
  scale_x_discrete() + 
  scale_fill_manual(values = c(&quot;Male&quot; = &quot;#7A67EE&quot;, &quot;Female&quot; = &quot;#FF6A6A&quot;)) +
  ggtitle(&quot;Number of Homicide Suspects Per Year&quot;) + 
  theme(
  # Set font and colours for background, titles and legends
    aspect.ratio = 1/2,
    panel.background = element_rect(fill = &quot;#BFD5E3&quot;, colour = &quot;#6D9EC1&quot;, linetype = &quot;solid&quot;),
    axis.text.x = element_text(angle = 45, hjust = 1, family = &quot;sans&quot;),
    axis.text.y = element_text(family = &quot;sans&quot;),  
    axis.title.x = element_text(size = 14, face = &quot;plain&quot;, family = &quot;sans&quot;),  
    axis.title.y = element_text(size = 14, face = &quot;plain&quot;, family = &quot;sans&quot;),  
    legend.title = element_text(size = 14, face = &quot;bold&quot;, family = &quot;sans&quot;),  
    legend.background = element_rect(fill = &quot;#BFD5E3&quot;,linetype = 1, colour = &quot;black&quot;, linewidth = 1),
    legend.text = element_text(size = 12, family = &quot;sans&quot;),  
    plot.title = element_text(size = 18, face = &quot;bold&quot;, hjust = 0.5, margin = margin(b = 10)),
    plot.subtitle = element_text(size = 14, margin = margin(b = 10)),
    panel.border = element_rect(colour = &quot;black&quot;, fill = NA, linewidth = 2)
  ) +
  labs(
    x = &quot;Year Range&quot;,        
    y = &quot;Number of Suspects&quot;, 
    fill = &quot;Sex of Suspect&quot;,  
    title = &quot;Number of Homicide Suspects Per Year&quot;,
    subtitle = &quot;Source: Office for National Statistics (ONS):\nHomicide in England and Wales: year ending March 2023.&quot;)

# Save the bar chart
ggsave(here(&quot;Visualisations&quot;, &quot;bar_chart.png&quot;), width = 12, height = 8)</code></pre>
<div id="initial-visualisation" class="section level4">
<h4>Initial Visualisation</h4>
<p><img src="Visualisations/bar_chart.png" /> The above function was
used to include the graphs in the published GitHub webpage.</p>
<p>To aid visualisation, I then chose a line graph to look at female
suspects compared to male suspects. This is the graph I submitted for
assessment.</p>
<pre class="r"><code>plot &lt;- ggplot(final_data, aes(x=`Simple Years`, y=Frequency, color = `Sex of Suspect`, group = `Sex of Suspect`)) +
  geom_line(size = 0.75) +
  geom_point(size = 4, shape = 20) +
  scale_y_continuous( # change what the gridlines increase by to aid visualisation
    breaks = seq(0, 525, by = 100),
    minor_breaks = seq(0, 525, by = 25)
  ) +
  scale_x_discrete() + 
  scale_color_manual(values = c(&quot;Male&quot; = &quot;#2A52BF&quot;, &quot;Female&quot; = &quot;#AE4371&quot;)) +
  ggtitle(&quot;Number of Homicide Suspects Per Year&quot;) + 
  theme(
  # Set font and colours for background, titles and legends
    panel.background = element_rect(fill = &quot;grey92&quot;, colour = &quot;#6D9EC1&quot;, linetype = &quot;solid&quot;), # change background colour to better visualise the points on the chart
    axis.text.x = element_text(angle = 45, hjust = 1, family = &quot;sans&quot;),
    axis.text.y = element_text(family = &quot;sans&quot;),  
    axis.title.x = element_text(size = 14, face = &quot;plain&quot;, family = &quot;sans&quot;),  
    axis.title.y = element_text(size = 14, face = &quot;plain&quot;, family = &quot;sans&quot;),  
    legend.title = element_text(size = 14, face = &quot;bold&quot;, family = &quot;sans&quot;),  
    legend.background = element_rect(fill = &quot;grey92&quot;,linetype = 1, colour = &quot;black&quot;, linewidth = 1),
    legend.text = element_text(size = 12, family = &quot;sans&quot;),  
    plot.title = element_text(size = 18, face = &quot;bold&quot;, hjust = 0.5, margin = margin(b = 10)),
    plot.subtitle = element_text(size = 14, margin = margin(b = 10)),
    panel.border = element_rect(colour = &quot;black&quot;, fill = NA, linewidth = 2)
  ) +
  labs(
    x = &quot;Year Range&quot;,        
    y = &quot;Number of Suspects&quot;, 
    color = &quot;Sex of Suspect&quot;,  
    title = &quot;Number of Homicide Suspects Per Year&quot;,
    subtitle = &quot;Source: Office for National Statistics (ONS):\nHomicide in England and Wales: year ending March 2023.&quot;)

   # axis,text.x = element_text(hjust = 1, vjust = 1, family = &quot;sans&quot;),

#Save the line graph in a wider image format so the subtitle doesn&#39;t get cut off
ggsave(here(&quot;Visualisations&quot;, &quot;viz240188795.png&quot;), plot = plot, width = 12, height = 8)</code></pre>
</div>
<div id="improved-visualisation---line-graph" class="section level4">
<h4>Improved Visualisation - Line Graph</h4>
</div>
<div id="plot-for-assessment" class="section level4">
<h4>Plot for Assessment</h4>
<p><img src="Visualisations/viz240188795.png" /> To emphasise the time
course of this data I animated the line graph so the points for both
male and female would gradually reveal.</p>
</div>
<div id="animated-line-graph" class="section level4">
<h4>Animated Line Graph</h4>
<pre class="r"><code># Animate the plot - plot for assessment
animated &lt;- plot + 
  geom_point() +
  transition_manual(Mid_Year, cumulative = TRUE) +
  labs(
    title = &quot;Number of Homicide Suspects Over the Years&quot;,
    subtitle = &quot;Source: Office for National Statistics (ONS):\nHomicide in England and Wales: year ending March 2023.&quot;
  ) +
  theme(
    plot.title = element_text(size = 18, face = &quot;bold&quot;, hjust = 0.5, margin = margin(b = 10)),
    plot.subtitle = element_text(size = 14, margin = margin(b = 10, t = 10)))

if(knitr::is_html_output()){
  animated
}</code></pre>
<p><img
src="index_files/figure-html/Animate%20the%20plot-1.gif" /><!-- --></p>
<pre class="r"><code># Not necessary but included to see the progression over the years
if(knitr::is_html_output()){
 anim_save(here(&quot;Visualisations&quot; , &quot;animated_line_graph.gif&quot;), animated, renderer = gifski_renderer())
}</code></pre>
<p><img src="./Visualisations/%22animated_line_graph.gif%22" /></p>
</div>
</div>
<div id="conclusions" class="section level1">
<h1>Conclusions</h1>
<p>This visualisation clearly shows the massive discrepancy between male
and female suspects. Addressing the research question, there is a
significantly higher amount of male suspects convicted of homicide than
there are females. The line graph also displays a substantial drop in
homicides in the 2022-2023 tax year compared to 2021-2022. Visualising
these homicide trends are important to help understand trends in
criminal behaviour and homicide, which can inform efforts to prevent and
address violence to hopefully be able to reduce these numbers
further.</p>
</div>
<div id="reflections" class="section level1">
<h1>Reflections</h1>
<p>If I had more time, to improve the animated line graph I would
include the years in the title as the animation progresses (e.g. as the
bar for 2012-2013 appears, the year range would appear in the title as
“Number of Homicide Suspects by Year: …”). I was unable to do this as
the data used to create the animation needed to be numeric, however, the
<code>Simple Years</code> column which includes the year range is a
character vector so cannot be used for this.</p>
<p>To improve the visualisation of homicide numbers over the years, the
different types of homicide the suspects were convicted of
(e.g. manslaughter, infanticide) could also be displayed. This could
provide further understanding of the trends in criminal behaviour and
homicides over the years.</p>
</div>
<div id="references" class="section level1">
<h1>References</h1>
<p>Office for National Statistics. (2024, February 08). <em>Homicide in
England and Wales: year ending March 2023.</em> <a
href="https://www.ons.gov.uk/peoplepopulationandcommunity/crimeandjustice/articles/homicideinenglandandwales/yearendingmarch2023"
class="uri">https://www.ons.gov.uk/peoplepopulationandcommunity/crimeandjustice/articles/homicideinenglandandwales/yearendingmarch2023</a></p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
